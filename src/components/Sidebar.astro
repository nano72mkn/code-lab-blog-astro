---
import type { MarkdownHeading } from "astro";
import Author from "./Author.astro";
import Sns from "./Sns.astro";

export type Props = {
  headings: MarkdownHeading[];
};
const { headings } = Astro.props;
---

<aside class="space-y-5 xl:w-1/4">
  <Author />

  <Sns />
  {
    headings && (
      <div class="md:sticky md:top-10 p-10 shadow-md rounded-md bg-white">
        <div class=" text-lg font-bold mb-5">もくじ</div>
        <ul class="space-y-3 pl-5">
          {headings.map((heading, index) => (
            <li
              class={`${
                heading.depth === 2
                  ? "pl-1"
                  : heading.depth === 3
                  ? "pl-4 text-gray-600"
                  : ""
              } ${heading.depth === 1 ? "list-disc" : ""}`}
            >
              <a
                href={`#${heading.slug}`}
                class={`text-sm ${heading.depth === 1 && "font-bold"}`}
              >
                {heading.text}
              </a>
            </li>
          ))}
        </ul>
      </div>
    )
  }
</aside>
