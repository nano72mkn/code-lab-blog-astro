---
title: "ReactNativeã®é–‹ç™ºç’°å¢ƒãƒ¡ãƒ¢ï¼“ - husky & lint-stagedç·¨"
published: true
pubDate: "2021-05-07"
tags: ["reactnative", "husky", "lint-staged"]
emoji: "ğŸ“±"
---

## husky & lint-staged ã«ã¤ã„ã¦

| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å | èª¬æ˜                                                             |
| ------------ | ---------------------------------------------------------------- |
| husky        | git ã®ã‚³ãƒŸãƒƒãƒˆã‚„ push ã«ãƒ•ãƒƒã‚¯ã—ã¦ lint ãªã©ã‚’èµ°ã‚‰ã›ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ |
| lint-staged  | lint ã‚’å¼·åˆ¶çš„ã«è¡Œã£ã¦ã€ã‚¨ãƒ©ãƒ¼ãªã©ãŒã‚ã‚Œã°å¼¾ã„ã¦ãã‚Œã‚‹ã€‚          |

`husky`ã§`commit`ã‚’æ¤œçŸ¥ã—ã¦`lint-staged`ã§`lint`ã‚’å¼·åˆ¶çš„ã«èµ°ã‚‰ã›ã€ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°å¼¾ã
ã“ã‚Œã§ã€ãƒã‚°ã«ãªã‚Šå¾—ã‚‹å…ƒã‹ã‚‰æ’é™¤ã§ãã‚‹ã‚ˆã­ãƒ¼ã¨ã„ã†è©¦ã¿ã€‚

## husky & lint-staged è¿½åŠ 

```
$ yarn add -D husky lint-staged
```

## husky ã®å°å…¥

```
$ npx husky-init && yarn
```

â†‘ ã“ã‚Œå®Ÿè¡Œã§ãŠã‚ã‚Š

â†“ å‚è€ƒ

https://typicode.github.io/husky/#/?id=yarn-2

## lint-staged ã®å°å…¥

### package.json ã«è¿½è¨˜

```
  "lint-staged": {
    "*.{js,jsx,ts,tsx,json,md}": [
      "eslint --fix './src/**/*.{js,ts,tsx}'",
      "prettier --write './src/**/*.{js,ts,tsx}'"
    ]
  }
```

ã“ã‚Œã§`yarn lint-staged`ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

### .husky/pre-commit ã‚’ä¿®æ­£

`husky` ã®å°å…¥æ™‚ã«ç”Ÿæˆã•ã‚ŒãŸ **.husky/pre-commit** ã‚’ä¸‹è¨˜ã«å¤‰æ›´

```
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

yarn lint-staged
```

## ãŠã‚ã‚Š

ã“ã‚Œã§ã€`git commit`æ™‚ã«`eslint`ã¨`prettier`ãŒå®Ÿè¡Œã•ã‚Œã¾ã™
